# 问题解决记录

## 问题 1：Git SSL 证书配置错误

### 遇到的问题

执行 `git pull` 时出现错误：`fatal: unable to access 'https://github.com/...': error setting certificate file`

### 问题原因

之前执行了 `git config --global http.sslCAInfo ""`，将 SSL CA 信息设置为空，导致 Git 无法验证 SSL 证书。

### 解决方法

删除有问题的全局配置：

```bash
git config --global --unset http.sslCAInfo
```

验证：执行 `git config --global --get http.sslCAInfo`，返回退出码 1 表示已删除。

---

## 问题 2：配置博客导航栏和分类页面

### 遇到的问题

需要配置导航栏为：首页、归档、随笔、技术、关于。随笔和技术页面需显示对应分类的文章，且页面标题显示中文。

### 解决方法

1. **修改导航栏配置**（`_config.fluid.yml`）：
   ```yaml
   menu:
     - { key: "home", link: "/", icon: "iconfont icon-home-fill" }
     - { key: "archive", link: "/archives/", icon: "iconfont icon-archive-fill" }
     - { key: "随笔", link: "/essays/", name: "随笔", icon: "iconfont icon-note" }
     - { key: "技术", link: "/tech/", name: "技术", icon: "iconfont icon-code" }
     - { key: "about", link: "/about/", icon: "iconfont icon-user-fill" }
   ```

2. **配置分类路径**（`_config.yml`）：
   ```yaml
   category_dir: ''  # 分类页面在根目录生成
   category_map:
     随笔: essays    # URL路径为 /essays/，页面标题仍显示"随笔"
     技术: tech      # URL路径为 /tech/，页面标题仍显示"技术"
   ```

3. **删除自定义页面文件**：
   - 删除 `source/essays/index.md`
   - 删除 `source/tech/index.md`
   - 让 Hexo 自动生成分类页面

### 应用步骤

在项目根目录执行：

```bash
# 1. 清理缓存和生成文件
hexo clean

# 2. 生成静态文件
hexo generate

# 3. 启动本地服务器
hexo server
```

服务器启动后，在浏览器访问：http://localhost:4000

### 验证

- 导航栏显示：首页、归档、随笔、技术、关于
- 访问 `/essays/` 显示分类为"随笔"的文章，页面标题为"随笔"
- 访问 `/tech/` 显示分类为"技术"的文章，页面标题为"技术"

---

## 问题 3：更换博客页面背景图片和调整首页显示

### 遇到的问题

1. 需要将首页背景图更换为指定图片
2. 需要将归档、技术、随笔、关于等页面的背景图统一更换
3. 首页背景图占满整个屏幕，希望与其他页面保持一致（只占部分屏幕）
4. 首页显示"归潇的世界"文字，需要去掉
5. 首页中间有打字机效果的光标，需要去掉

### 解决方法

1. **更换首页背景图**（`_config.fluid.yml`）：
   ```yaml
   index:
     banner_img: /img/桃夭笑.jpg
     banner_img_height: 60  # 从100改为60，与其他页面一致
   ```

2. **更换其他页面背景图**（`_config.fluid.yml`）：
   ```yaml
   archive:
     banner_img: /img/桃夭吃东西.jpg
   
   category:
     banner_img: /img/桃夭吃东西.jpg
   
   about:
     banner_img: /img/桃夭吃东西.jpg
   ```

3. **去掉首页副标题**（`_config.fluid.yml`）：
   ```yaml
   index:
     slogan:
       enable: false
   ```

4. **去掉打字机效果和光标**（`_config.fluid.yml` + `source/css/custom.styl`）：
   ```yaml
   fun_features:
     typing:
       enable: false
   ```
   
   在 `source/css/custom.styl` 中添加：
   ```styl
   /* 隐藏打字机效果的光标 */
   .typed-cursor,
   .typed-cursor--blink,
   span.typed-cursor {
     display: none !important;
     opacity: 0 !important;
     visibility: hidden !important;
   }
   ```

5. **手动复制图片文件**：
   - 将 `D:\图片 大学\壁纸\桃夭笑.jpg` 复制到 `source/img/桃夭笑.jpg`
   - 将 `D:\图片 大学\壁纸\桃夭吃东西.jpg` 复制到 `source/img/桃夭吃东西.jpg`

### 应用步骤

在项目根目录执行：

```bash
# 1. 清理缓存和生成文件
hexo clean

# 2. 生成静态文件
hexo generate

# 3. 启动本地服务器（如果4000端口被占用，使用其他端口）
hexo server -p 4001
```

服务器启动后，在浏览器访问：http://localhost:4001

### 验证

- 首页背景图显示为"桃夭笑.jpg"，高度为屏幕的60%
- 归档、技术、随笔、关于页面背景图显示为"桃夭吃东西.jpg"
- 首页不显示"归潇的世界"文字
- 首页中间没有光标显示

### 注意事项

- 如果图片文件路径包含中文字符，PowerShell 可能无法自动复制，需要手动复制到 `source/img/` 目录
- 如果页面没有更新，需要强制刷新浏览器（`Ctrl + F5`）或清除浏览器缓存

---

## 问题 4：清理文章页面底部内容和更换浏览器图标

### 遇到的问题

1. 每篇文章底部显示版权声明框，需要去掉
2. 文章底部显示留言框（评论系统），需要去掉
3. 页面底部显示 Code 504 错误信息，需要去掉
4. 浏览器标签页图标需要更换为指定图片
5. 首页文章格式需要恢复到原始格式（不使用封面图）

### 解决方法

1. **关闭版权声明和上一篇/下一篇**（`_config.fluid.yml`）：
   ```yaml
   post:
     copyright:
       enable: false
     
     prev_next:
       enable: false
   ```

2. **关闭评论系统**（`_config.fluid.yml`）：
   ```yaml
   post:
     comments:
       enable: false
   ```

3. **通过 CSS 隐藏残留元素**（`source/css/custom.styl`）：
   ```styl
   /* 隐藏版权声明框 */
   .post-copyright,
   #post-copyright,
   .copyright {
     display: none !important;
   }
   
   /* 隐藏评论系统 */
   #vcomments,
   #valine,
   .vcomment,
   .comments,
   .post-comments {
     display: none !important;
   }
   
   /* 隐藏 Valine 错误信息 */
   #vcomments .vpower,
   .vpower,
   .verror {
     display: none !important;
   }
   ```

4. **更换浏览器图标**（`_config.fluid.yml`）：
   ```yaml
   favicon: /img/桃夭开心.jpg
   apple_touch_icon: /img/桃夭开心.jpg
   ```

5. **隐藏首页文章封面图**（`source/css/custom.styl`）：
   ```styl
   .index-card .index-img {
     display: none !important;
   }
   ```

6. **移除默认封面图配置**（`_config.fluid.yml`）：
   ```yaml
   post:
     default_index_img:  # 设置为空
   ```

### 应用步骤

在项目根目录执行：

```bash
# 1. 清理缓存和生成文件
hexo clean

# 2. 生成静态文件
hexo generate

# 3. 启动本地服务器
hexo server -p 4001
```

服务器启动后，在浏览器访问：http://localhost:4001

### 验证

- 文章页面底部不显示版权声明框
- 文章页面底部不显示留言框
- 页面底部不显示 Code 504 错误信息
- 浏览器标签页图标显示为"桃夭开心.jpg"
- 首页文章列表不显示封面图，恢复为原始格式

---

## 问题 5：推送代码到 GitHub 时遇到的多个问题

### 遇到的问题

1. **SSL 证书错误**：
   ```
   fatal: unable to access 'https://github.com/guoxiyao/guoxiyao.github.io.git/': 
   error setting certificate file: D:/Git/mingw64/etc/ssl/certs/ca-bundle.crt
   ```

2. **远程仓库冲突**：
   ```
   ! [rejected] master -> master (fetch first)
   error: failed to push some refs to 'https://github.com/guoxiyao/guoxiyao.github.io.git'
   ```

3. **Git 用户身份未配置**：
   ```
   Author identity unknown
   *** Please tell me who you are.
   ```

### 问题原因

1. Git 的 SSL 证书文件路径配置错误或证书文件不存在
2. 远程仓库有本地不存在的提交历史，需要先合并
3. 首次提交代码时未配置 Git 用户信息

### 解决方法

1. **配置 Git 用户信息**（本地仓库）：
   ```bash
   git config user.name "归潇"
   git config user.email "guoxiyao@users.noreply.github.com"
   ```

2. **临时禁用 SSL 验证**（仅用于解决证书问题）：
   ```bash
   git config http.sslVerify false
   ```
   > **注意**：这是临时解决方案，建议后续修复证书配置或使用 SSH 方式连接

3. **先拉取远程内容并合并**：
   ```bash
   git pull origin master --allow-unrelated-histories
   ```
   > 如果出现合并冲突，需要手动解决冲突后再提交

4. **添加、提交并推送代码**：
   ```bash
   git add .
   git commit -m "更新博客配置：导航栏、页面背景图、头像等"
   git push -u origin master
   ```

### 应用步骤

在项目根目录执行：

```bash
# 1. 配置 Git 用户信息（如果未配置）
git config user.name "你的名字"
git config user.email "你的邮箱"

# 2. 如果遇到 SSL 证书错误，临时禁用验证
git config http.sslVerify false

# 3. 添加所有更改
git add .

# 4. 提交更改
git commit -m "提交信息"

# 5. 如果远程有内容，先拉取合并
git pull origin master --allow-unrelated-histories

# 6. 推送到 GitHub
git push -u origin master
```

### 验证

- 在 GitHub 仓库页面查看，确认所有文件已上传
- 仓库地址：https://github.com/guoxiyao/guoxiyao.github.io
- 执行 `git status` 确认工作区干净，没有未提交的更改

### 注意事项

- SSL 证书错误可以通过禁用验证临时解决，但建议后续：
  - 修复证书文件路径配置
  - 或使用 SSH 方式连接 GitHub（更安全）
- 如果远程仓库有内容，必须使用 `--allow-unrelated-histories` 参数合并历史记录
- 首次使用 Git 时，需要配置用户信息才能提交代码

